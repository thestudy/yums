<script src="../../bower_components/webcomponentsjs/webcomponents-lite.js"></script>
<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../../bower_components/iron-image/iron-image.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../../bower_components/paper-menu/paper-menu.html">
<link rel="import" href="table-row.html">

<dom-module id="table-setup">
    <style>
    
        .center{
            margin: auto;
            width: 60%;
        }
        
    </style>
    
    <template>
        
        <div class="center" id="table">
            <table-row on-load="setVal"></table-row>
        </div>
        
        
        
    </template>
    
    
    <script>
    Polymer({
        is: "table-setup",
        
        
        
            
        listeners: {
               'add-row':'addRowToTable',
               'delete-row': 'deleteRowFromTable'
           },
           
         setVal: function(){
           var rowList = this.querySelectorAll('table-row');
           rowList[0].setAttribute('rowNumber', 0);
             
         },
           
        deleteRowFromTable: function(e){
            var rowList = this.querySelectorAll('table-row');
            var i;
            for(i = 0; i < rowList.length; i++){
                if(rowList[i].rowNumber == e.detail.rowNumber){
                    Polymer.dom(this.$.table).removeChild(rowList[i]);
                }
            }
        },
        
        addRowToTable: function(e){
            console.log(e.detail);
            var newRow = document.createElement('table-row');
            newRow.setAttribute("rowNumber", e.detail.rowNumber + 1);
            Polymer.dom(this.$.table).appendChild(document.createElement('br'));
            Polymer.dom(this.$.table).appendChild(newRow);
            var rowList = this.querySelectorAll('table-row');
            var i;
            for(i = 0; i < rowList.length; i++){
                if(rowList[i].rowNumber == e.detail.rowNumber){
                    
                }
            }
        }
         
        
    })
    
    
           
    
    </script>
    
</dom-module>
